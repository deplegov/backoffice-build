"use strict";(self.webpackChunkgouvernance=self.webpackChunkgouvernance||[]).push([[936],{7947:function(e,t,n){function s(e){return"".concat("https://dam-api-qa.northeurope.cloudapp.azure.com","/").concat(e)}n.d(t,{Z:function(){return s}})},6524:function(e,t,n){var s=n(5671),a=n(3144),i=n(136),r=n(2882),o=n(2791),u=n(8983),l=n(184),c=function(e){(0,i.Z)(n,e);var t=(0,r.Z)(n);function n(){return(0,s.Z)(this,n),t.apply(this,arguments)}return(0,a.Z)(n,[{key:"render",value:function(){return(0,l.jsx)(u.LQ,{})}}]),n}(o.Component);t.Z=c},5936:function(e,t,n){n.r(t),n.d(t,{default:function(){return p}});var s=n(5671),a=n(3144),i=n(136),r=n(2882),o=n(2791),u=n(8983),l=n(4846),c=n(511),h=n(7947),d=n(6524),m=n(184),p=function(e){(0,i.Z)(n,e);var t=(0,r.Z)(n);function n(e){var a;return(0,s.Z)(this,n),(a=t.call(this,e)).setLibelle=function(e){a.setState({libelle:e.target.value})},a.setQuantity=function(e){a.setState({quantity:e.target.value})},a.setUnitPrice=function(e){a.setState({unit_price:e.target.value})},a.setTotalAmount=function(e){a.setState({total_amount:e.target.value})},a.setNotes=function(e){a.setState({note:e.target.value})},a.setMessage=function(e){a.setState({message:e})},a.setCustomerId=function(e){a.setState({customer_id:e.target.value})},a.setReady=function(e){a.setState({ready:e})},a.state={libelle:"",quantity:"",unit_price:"",total_amount:"",customer_id:"",message:"",note:"",customers:null,ready:!1,load:!1},a}return(0,a.Z)(n,[{key:"componentDidMount",value:function(){this.getCustomers()}},{key:"addEntry",value:function(){var e=this;this.setLoad(!0),fetch((0,h.Z)("entry"),{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({libelle:this.state.libelle,quantity:parseInt(this.state.quantity),unit_price:parseInt(this.state.unit_price),total_amount:parseInt(this.state.quantity)*parseInt(this.state.unit_price),customer_id:parseInt(this.state.customer_id),notes:this.state.note})}).then((function(t){t.ok?t.json().then((function(t){e.setMessage("Ajout r\xe9ussi"),e.setLoad(!1),e.props.history.push("/Home")})):t.json().then((function(t){typeof t.message===typeof[]?(e.setMessage(t.message[0]),e.setLoad(!1)):(e.setMessage(t.message),e.setLoad(!1))}))}))}},{key:"getCustomers",value:function(){var e=this;this.setReady(!1),fetch((0,h.Z)("customer"),{method:"GET"}).then((function(t){t.ok&&t.json().then((function(t){t&&t.customer&&e.setState({customers:t.customer,ready:!0})}))}))}},{key:"render",value:function(){var e=this,t=this.state,n=t.libelle,s=t.quantity,a=t.unit_price,i=t.message,r=t.customers,o=t.ready,h=t.load;return(0,m.jsx)("div",{className:"bg-light min-vh-50 d-flex flex-row align-items-center",children:o?(0,m.jsxs)(u.KB,{children:[" ",(0,m.jsx)(u.rb,{className:"justify-content-center",children:(0,m.jsx)(u.b7,{md:9,lg:7,xl:6,children:(0,m.jsx)(u.xH,{className:"mx-4",children:(0,m.jsx)(u.sl,{className:"p-4",children:(0,m.jsxs)(u.lx,{onSubmit:function(e){e.preventDefault()},children:[(0,m.jsx)("h1",{children:"Ajout Entr\xe9e"}),(0,m.jsxs)(u.YR,{className:"mb-3",children:[(0,m.jsx)(u.wV,{children:(0,m.jsx)(l.Z,{icon:c.l})}),(0,m.jsx)(u.jO,{type:"text",placeholder:"Libelle",autoComplete:"Libelle",value:n,onChange:this.setLibelle})]}),(0,m.jsx)(u.YR,{className:"mb-3",children:(0,m.jsx)(u.jO,{type:"number",placeholder:"Quantit\xe9",autoComplete:"Quantit\xe9",value:s,onChange:this.setQuantity})}),(0,m.jsx)(u.YR,{className:"mb-3",children:(0,m.jsx)(u.jO,{type:"number",placeholder:"Prix unitaire",autoComplete:"Prix unitaire",value:a,onChange:this.setUnitPrice})}),(0,m.jsxs)(u.YR,{className:"mb-3",children:[(0,m.jsx)(u.wV,{component:"label",htmlFor:"inputGroupSelect01",children:"Client"}),(0,m.jsxs)(u.LX,{id:"inputGroupSelect01",onChange:this.setCustomerId,children:[(0,m.jsx)("option",{value:null,children:" "}),r&&r.map((function(e,t){return(0,m.jsxs)("option",{value:e.id,children:[e.name," ",e.surname]},t)}))]})]}),(0,m.jsx)(u.PB,{onChange:this.setNotes,placeholder:"notes"}),(0,m.jsxs)("div",{className:"d-grid",style:{marginTop:"18px"},children:[h?(0,m.jsx)(u.u5,{id:"aim-color-green",className:"px-4",disabled:!0,children:(0,m.jsx)(d.Z,{})}):(0,m.jsx)(u.u5,{color:"success",type:"submit",onClick:function(){return e.addEntry()},children:"Ajouter"}),(0,m.jsx)("label",{children:i})]})]})})})})})]}):(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(d.Z,{})})})}},{key:"setLoad",value:function(e){this.setState({load:e})}}]),n}(o.Component)},511:function(e,t,n){n.d(t,{l:function(){return s}});var s=["512 512","<path fill='var(--ci-primary-color, currentColor)' d='M29.663,482.25l.087.087a24.847,24.847,0,0,0,17.612,7.342,25.178,25.178,0,0,0,8.1-1.345l142.006-48.172,272.5-272.5A88.832,88.832,0,0,0,344.334,42.039l-272.5,272.5L23.666,456.541A24.844,24.844,0,0,0,29.663,482.25Zm337.3-417.584a56.832,56.832,0,0,1,80.371,80.373L411.5,180.873,331.127,100.5ZM99.744,331.884,308.5,123.127,388.873,203.5,180.116,412.256,58.482,453.518Z' class='ci-primary'/>"]}}]);
//# sourceMappingURL=936.1a473c97.chunk.js.map