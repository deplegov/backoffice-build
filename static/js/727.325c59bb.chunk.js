"use strict";(self.webpackChunkgouvernance=self.webpackChunkgouvernance||[]).push([[727],{7947:function(t,e,s){function n(t){return"".concat("https://dam-api-qa.northeurope.cloudapp.azure.com","/").concat(t)}s.d(e,{Z:function(){return n}})},6524:function(t,e,s){var n=s(5671),i=s(3144),a=s(136),o=s(2882),c=s(2791),r=s(8983),u=s(184),h=function(t){(0,a.Z)(s,t);var e=(0,o.Z)(s);function s(){return(0,n.Z)(this,s),e.apply(this,arguments)}return(0,i.Z)(s,[{key:"render",value:function(){return(0,u.jsx)(r.LQ,{})}}]),s}(c.Component);e.Z=h},8727:function(t,e,s){s.r(e),s.d(e,{default:function(){return d}});var n=s(5671),i=s(3144),a=s(136),o=s(2882),c=s(2791),r=s(8983),u=s(7947),h=s(6524),l=s(184),d=function(t){(0,a.Z)(s,t);var e=(0,o.Z)(s);function s(t){var i;return(0,n.Z)(this,s),(i=e.call(this,t)).filter=function(){i.getTenderCount(),i.getSoumissionCount()},i.setTypeFilter=function(t){i.setState({typeFilter:t.target.value})},i.setFirstDate=function(t){i.setState({firstDate:t.target.value})},i.setSeconDate=function(t){i.setState({secondDate:t.target.value})},i.state={loading:!0,dataMonthEntry:[1423,2874],dataMonthExpense:[9172,6821],dataMonthBenefit:[3800,2891],labels:["Analamanga","Vakinakaratra"],firstDate:"",secondDate:"",totalMonth:[],typeFilter:0,tenders:0,soumissions:0,reussite:0},i}return(0,i.Z)(s,[{key:"componentDidMount",value:function(){this.getTenderCount(),this.getSoumissionCount(),this.getReussiteCount()}},{key:"getTenderCount",value:function(){var t=this,e=[];""!==this.state.firstDate&&e.push("date1=".concat(this.state.firstDate)),""!==this.state.secondDate&&e.push("date2=".concat(this.state.secondDate)),""!==(e=e.join("&"))&&(e="?".concat(e)),this.setLoading(!0),fetch((0,u.Z)("tenders/count".concat(e)),{method:"GET"}).then((function(e){if(e.ok)return e.json().then((function(e){t.setState({tenders:e.count}),t.setLoading(!1)}))}))}},{key:"getSoumissionCount",value:function(){var t=this,e=[];""!==this.state.firstDate&&e.push("date1=".concat(this.state.firstDate)),""!==this.state.secondDate&&e.push("date2=".concat(this.state.secondDate)),""!==(e=e.join("&"))&&(e="?".concat(e)),this.setLoading(!0),fetch((0,u.Z)("soumissions/count".concat(e)),{method:"GET"}).then((function(e){if(e.ok)return e.json().then((function(e){t.setState({soumissions:e.count}),t.setLoading(!1)}))}))}},{key:"getReussiteCount",value:function(){var t=this,e=[];""!==this.state.firstDate&&e.push("date1=".concat(this.state.firstDate)),""!==this.state.secondDate&&e.push("date2=".concat(this.state.secondDate)),""!==(e=e.join("&"))&&(e="?".concat(e)),this.setLoading(!0),fetch((0,u.Z)("soumissions/reussite".concat(e)),{method:"GET"}).then((function(e){if(e.ok)return e.json().then((function(e){t.setState({reussite:e.count}),t.setLoading(!1)}))}))}},{key:"render",value:function(){var t=this.state,e=t.loading,s=t.firstDate,n=t.secondDate;return e?(0,l.jsx)(h.Z,{}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"mb-3 bg-light min-vh-50 d-flex flex-row",children:(0,l.jsx)("div",{style:{width:"100%"},children:(0,l.jsxs)(r.xH,{children:[(0,l.jsx)(r.bn,{children:"Filtres"}),(0,l.jsx)(r.sl,{children:(0,l.jsxs)(r.rb,{children:[(0,l.jsx)(r.b7,{children:(0,l.jsxs)(r.YR,{className:"mb-3",children:[(0,l.jsx)(r.wV,{component:"label",htmlFor:"debut",children:"D\xe9but"}),(0,l.jsx)(r.jO,{id:"debut",type:"date",placeholder:"Debut",autoComplete:"date",value:s,onChange:this.setFirstDate})]})}),(0,l.jsx)(r.b7,{children:(0,l.jsxs)(r.YR,{className:"mb-3",children:[(0,l.jsx)(r.wV,{component:"label",htmlFor:"fin",children:"Fin"}),(0,l.jsx)(r.jO,{id:"fin",type:"date",placeholder:"Fin",autoComplete:"date",value:n,onChange:this.setSeconDate})]})}),(0,l.jsx)(r.b7,{children:(0,l.jsx)(r.u5,{style:{width:"100%"},onClick:this.filter,children:"Afficher"})})]})})]})})}),(0,l.jsx)("div",{className:"bg-light min-vh-50 d-flex flex-row align-items-center",children:(0,l.jsxs)("div",{className:"statistique-card",children:[(0,l.jsxs)(r.xH,{children:[(0,l.jsx)(r.bn,{children:"Appels d'offres"}),(0,l.jsx)(r.sl,{children:(0,l.jsx)(r.tj,{className:"stat-title",children:this.state.tenders})})]}),(0,l.jsxs)(r.xH,{children:[(0,l.jsx)(r.bn,{children:"Soumissions"}),(0,l.jsx)(r.sl,{children:(0,l.jsx)(r.tj,{className:"stat-title",children:this.state.soumissions})})]}),(0,l.jsxs)(r.xH,{children:[(0,l.jsx)(r.bn,{children:"Taux de r\xe9ussite"}),(0,l.jsx)(r.sl,{children:(0,l.jsxs)(r.tj,{className:"stat-title",children:[Number(this.state.reussite).toPrecision(2),"%"]})})]})]})}),(0,l.jsx)("br",{}),(0,l.jsx)("div",{})]})}},{key:"setLoading",value:function(t){this.setState({loading:t})}}]),s}(c.Component)}}]);
//# sourceMappingURL=727.325c59bb.chunk.js.map