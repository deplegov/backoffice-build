{"version":3,"file":"static/js/976.2949425b.chunk.js","mappings":"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","sources":["const/api.js","views/pages/Loading.js","views/pages/user/Register.js","../node_modules/@coreui/icons/js/free/cil-lock-locked.js"],"sourcesContent":["export default function api(link) {\r\n  return `${process.env.REACT_APP_BACKEND_HOST}/${link}`;\r\n}\r\n","import React from \"react\";\r\nimport { CSpinner } from \"@coreui/react\";\r\nclass Loading extends React.Component {\r\n  render() {\r\n    return <CSpinner />;\r\n  }\r\n}\r\nexport default Loading;\r\n","import React from \"react\";\r\nimport {\r\n  CButton,\r\n  CCard,\r\n  CCardBody,\r\n  CCol,\r\n  CContainer,\r\n  CForm,\r\n  CFormInput,\r\n  CInputGroup,\r\n  CInputGroupText,\r\n  CRow,\r\n  CFormSelect,\r\n  CFormCheck,\r\n} from \"@coreui/react\";\r\nimport CIcon from \"@coreui/icons-react\";\r\nimport { cilLockLocked, cilUser } from \"@coreui/icons\";\r\nimport api from \"../../../const/api\";\r\nimport Loading from \"../Loading\";\r\n\r\nexport default class Register extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      pending: false,\r\n      users: [],\r\n      roles: [],\r\n      name: \"\",\r\n      surname: \"\",\r\n      gender: \"\",\r\n      username: \"\",\r\n      address: \"\",\r\n      numberPhone: \"\",\r\n      email: \"\",\r\n      password: \"\",\r\n      role: \"\",\r\n      message: \"\",\r\n      load: false,\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getAllRole();\r\n  }\r\n\r\n  getError(index) {\r\n    const errors = {\r\n      \"Username already used.\": \"Ce nom d'utilisateur est déjà utilisé.\",\r\n      \"Email address already used.\": \"Cette adresse mail est déjà utilisée.\",\r\n      \"username should not be empty\":\r\n        \" Le champ nom d'utilisateur est obligatoire \",\r\n      \"email should not be empty\": \" Le champ email est obligatoire\",\r\n      \"email must be an email\": \" Email incorrect\",\r\n    };\r\n    return errors[index];\r\n  }\r\n\r\n  getAllRole() {\r\n    fetch(api(`role`)).then((res) => {\r\n      if (res.ok)\r\n        res.json().then((data) => {\r\n          if (data && data.roles)\r\n            this.setState({\r\n              roles: data.roles,\r\n            });\r\n        });\r\n    });\r\n  }\r\n\r\n  addUser() {\r\n    let email = this.state.email;\r\n    if (this.state.email === \"\") {\r\n      email = null;\r\n    }\r\n    this.setLoad(true);\r\n    fetch(api(\"users/createUser\"), {\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      method: \"POST\",\r\n      body: JSON.stringify({\r\n        name: this.state.name,\r\n        surname: this.state.surname,\r\n        gender: this.state.gender,\r\n        address: this.state.address,\r\n        number_phone: parseInt(this.state.numberPhone),\r\n        email: email,\r\n        username: this.state.username,\r\n        password: this.state.password,\r\n        role_id: parseInt(this.state.role),\r\n      }),\r\n    }).then((res) => {\r\n      if (res.ok)\r\n        res.json().then((data) => {\r\n          //console.log(data);\r\n          this.setMessage(\"Ajout réussi\");\r\n          this.setLoad(false);\r\n          this.props.history.push(\"/Home\");\r\n        });\r\n      else {\r\n        res.json().then((res) => {\r\n          if (res) {\r\n            this.setMessage(res.message + \", la création a échoué.\");\r\n            this.setLoad(false);\r\n          }\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      roles,\r\n      name,\r\n      surname,\r\n      password,\r\n      username,\r\n      address,\r\n      numberPhone,\r\n      email,\r\n      message,\r\n      load,\r\n    } = this.state;\r\n    return (\r\n      <div className=\"bg-light min-vh-100 d-flex flex-row align-items-center\">\r\n        <CContainer>\r\n          <CRow className=\"justify-content-center\">\r\n            <CCol md={9} lg={7} xl={6}>\r\n              <CCard className=\"mx-4\">\r\n                <CCardBody className=\"p-4\">\r\n                  <CForm\r\n                    onSubmit={(e) => {\r\n                      e.preventDefault();\r\n                    }}\r\n                  >\r\n                    <h1>Ajout Utilisateur</h1>\r\n                    <CInputGroup className=\"mb-3\">\r\n                      <CInputGroupText>\r\n                        <CIcon icon={cilUser} />\r\n                      </CInputGroupText>\r\n                      <CFormInput\r\n                        type=\"text\"\r\n                        placeholder=\"Nom\"\r\n                        autoComplete=\"Nom\"\r\n                        value={name}\r\n                        onChange={this.setName}\r\n                      />\r\n                    </CInputGroup>\r\n                    <CInputGroup className=\"mb-3\">\r\n                      <CInputGroupText>\r\n                        <CIcon icon={cilUser} />\r\n                      </CInputGroupText>\r\n                      <CFormInput\r\n                        type=\"text\"\r\n                        placeholder=\"Prénom\"\r\n                        autoComplete=\"Prénom\"\r\n                        value={surname}\r\n                        onChange={this.setSurname}\r\n                      />\r\n                    </CInputGroup>\r\n                    <CInputGroup className=\"mb-3\">\r\n                      <CInputGroupText>\r\n                        <CIcon icon={cilUser} />\r\n                      </CInputGroupText>\r\n                      <CFormInput\r\n                        type=\"text\"\r\n                        placeholder=\"Adresse\"\r\n                        autoComplete=\"Adresse\"\r\n                        value={address}\r\n                        onChange={this.setAddress}\r\n                      />\r\n                    </CInputGroup>\r\n                    <CInputGroup className=\"mb-3\">\r\n                      <CInputGroupText>\r\n                        <CIcon icon={cilUser} />\r\n                      </CInputGroupText>\r\n                      <CFormInput\r\n                        type=\"number\"\r\n                        placeholder=\"Numéro de téléphone\"\r\n                        autoComplete=\"Numéro de téléphone\"\r\n                        value={numberPhone}\r\n                        onChange={this.setNumberPhone}\r\n                      />\r\n                    </CInputGroup>\r\n\r\n                    <div\r\n                      style={{\r\n                        display: \"flex\",\r\n                        justifyContent: \"space-around\",\r\n                        alignItems: \"center\",\r\n                        height: \"68px\",\r\n                      }}\r\n                    >\r\n                      <CFormCheck\r\n                        inline\r\n                        type=\"radio\"\r\n                        id=\"Homme\"\r\n                        name=\"gender\"\r\n                        label=\"Homme\"\r\n                        value=\"M\"\r\n                        onChange={this.setGender}\r\n                      />\r\n                      <CFormCheck\r\n                        inline\r\n                        type=\"radio\"\r\n                        id=\"Femme\"\r\n                        name=\"gender\"\r\n                        label=\"Femme\"\r\n                        value=\"F\"\r\n                        onChange={this.setGender}\r\n                      />\r\n                    </div>\r\n\r\n                    <CInputGroup className=\"mb-3\">\r\n                      <CInputGroupText>@</CInputGroupText>\r\n                      <CFormInput\r\n                        type=\"email\"\r\n                        placeholder=\"Email\"\r\n                        autoComplete=\"email\"\r\n                        value={email}\r\n                        onChange={this.setEmail}\r\n                      />\r\n                    </CInputGroup>\r\n                    <CInputGroup className=\"mb-3\">\r\n                      <CInputGroupText>\r\n                        <CIcon icon={cilLockLocked} />\r\n                      </CInputGroupText>\r\n                      <CFormInput\r\n                        type=\"text\"\r\n                        placeholder=\"Nom d'utilisateur\"\r\n                        autoComplete=\"Nom d'utilisateur\"\r\n                        value={username}\r\n                        onChange={this.setUserName}\r\n                      />\r\n                    </CInputGroup>\r\n                    <CInputGroup className=\"mb-3\">\r\n                      <CInputGroupText>\r\n                        <CIcon icon={cilLockLocked} />\r\n                      </CInputGroupText>\r\n                      <CFormInput\r\n                        type=\"password\"\r\n                        placeholder=\"Mot de passe\"\r\n                        autoComplete=\"Mot de passe\"\r\n                        value={password}\r\n                        onChange={this.setPassword}\r\n                      />\r\n                    </CInputGroup>\r\n                    <CInputGroup className=\"mb-3\">\r\n                      <CInputGroupText\r\n                        component=\"label\"\r\n                        htmlFor=\"inputGroupSelect01\"\r\n                      >\r\n                        Role\r\n                      </CInputGroupText>\r\n                      <CFormSelect\r\n                        id=\"inputGroupSelect01\"\r\n                        onChange={this.setRole}\r\n                      >\r\n                        <option> </option>\r\n                        {roles &&\r\n                          roles.map((r, index) => (\r\n                            <option key={index} value={r.id}>\r\n                              {r.entitled}\r\n                            </option>\r\n                          ))}\r\n                      </CFormSelect>\r\n                    </CInputGroup>\r\n                    <div className=\"d-grid\">\r\n                      {load ? (\r\n                        <CButton id=\"aim-color-green\" className=\"px-4\" disabled>\r\n                          <Loading></Loading>\r\n                        </CButton>\r\n                      ) : (\r\n                        <CButton type=\"submit\" color=\"success\" onClick={() => this.addUser()}>\r\n                          Valider\r\n                        </CButton>\r\n                      )}\r\n\r\n                      {message}\r\n                    </div>\r\n                  </CForm>\r\n                </CCardBody>\r\n              </CCard>\r\n            </CCol>\r\n          </CRow>\r\n        </CContainer>\r\n      </div>\r\n    );\r\n  }\r\n  setPending(state) {\r\n    this.setState({\r\n      pending: state,\r\n    });\r\n  }\r\n  setMessage(ms) {\r\n    this.setState({\r\n      message: ms,\r\n    });\r\n  }\r\n\r\n  setLoad(l) {\r\n    this.setState({\r\n      load: l,\r\n    });\r\n  }\r\n  setUserName = (e) => {\r\n    this.setState({\r\n      username: e.target.value,\r\n    });\r\n  };\r\n  setError(message) {\r\n    if (message) {\r\n      this.setState({\r\n        error: message,\r\n        message: message,\r\n        hasError: true,\r\n      });\r\n    } else {\r\n      this.setState({\r\n        message: \"\",\r\n        error: \"\",\r\n        hasError: false,\r\n      });\r\n    }\r\n  }\r\n  setName = (e) => {\r\n    this.setState({\r\n      name: e.target.value,\r\n    });\r\n  };\r\n  setSurname = (e) => {\r\n    this.setState({\r\n      surname: e.target.value,\r\n    });\r\n  };\r\n  setGender = (e) => {\r\n    this.setState({\r\n      gender: e.target.value,\r\n    });\r\n  };\r\n  setAddress = (e) => {\r\n    this.setState({\r\n      address: e.target.value,\r\n    });\r\n  };\r\n  setNumberPhone = (e) => {\r\n    this.setState({\r\n      numberPhone: e.target.value,\r\n    });\r\n  };\r\n  setEmail = (e) => {\r\n    this.setState({\r\n      email: e.target.value,\r\n    });\r\n  };\r\n  setPassword = (e) => {\r\n    this.setState({\r\n      password: e.target.value,\r\n    });\r\n  };\r\n  setRole = (e) => {\r\n    this.setState({\r\n      role: e.target.value,\r\n    });\r\n  };\r\n}\r\n","export const cilLockLocked = [\"512 512\",\"<path fill='var(--ci-primary-color, currentColor)' d='M384,200V144a128,128,0,0,0-256,0v56H88V328c0,92.635,75.364,168,168,168s168-75.365,168-168V200ZM160,144a96,96,0,0,1,192,0v56H160ZM392,328c0,74.99-61.01,136-136,136s-136-61.01-136-136V232H392Z' class='ci-primary'/>\"]"],"names":["api","link","process","Loading","React","Register","props","setUserName","e","setState","username","target","value","setName","name","setSurname","surname","setGender","gender","setAddress","address","setNumberPhone","numberPhone","setEmail","email","setPassword","password","setRole","role","state","pending","users","roles","message","load","this","getAllRole","index","fetch","then","res","ok","json","data","setLoad","headers","method","body","JSON","stringify","number_phone","parseInt","role_id","setMessage","history","push","className","md","lg","xl","onSubmit","preventDefault","icon","cilUser","type","placeholder","autoComplete","onChange","style","display","justifyContent","alignItems","height","inline","id","label","cilLockLocked","component","htmlFor","map","r","entitled","disabled","color","onClick","addUser","ms","l","error","hasError"],"sourceRoot":""}