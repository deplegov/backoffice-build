"use strict";(self.webpackChunkgouvernance=self.webpackChunkgouvernance||[]).push([[651],{7947:function(e,s,r){function n(e){return"".concat("https://dam-api-qa.northeurope.cloudapp.azure.com","/").concat(e)}r.d(s,{Z:function(){return n}})},6524:function(e,s,r){var n=r(5671),i=r(3144),t=r(136),c=r(2882),a=r(2791),l=r(8983),d=r(184),h=function(e){(0,t.Z)(r,e);var s=(0,c.Z)(r);function r(){return(0,n.Z)(this,r),s.apply(this,arguments)}return(0,i.Z)(r,[{key:"render",value:function(){return(0,d.jsx)(l.LQ,{})}}]),r}(a.Component);s.Z=h},9651:function(e,s,r){r.r(s),r.d(s,{default:function(){return j}});var n=r(5671),i=r(3144),t=r(136),c=r(2882),a=r(2791),l=r(8983),d=r(7947),h=r(6524),u=r(2426),o=r.n(u),x=r(184),j=function(e){(0,t.Z)(r,e);var s=(0,c.Z)(r);function r(e){var i;(0,n.Z)(this,r);var t=e.match;return(i=s.call(this,e)).state={purchase_id:t&&t.params&&t.params.id,loading:!0,purchaseDetail:null,purchase:null,error:""},i}return(0,i.Z)(r,[{key:"componentDidMount",value:function(){this.getPurchaseDetail()}},{key:"getPurchaseDetail",value:function(){var e=this;this.setLoading(!0),fetch((0,d.Z)("purchaseDetails/".concat(this.state.purchase_id))).then((function(s){s.ok&&s.json().then((function(s){s&&s.purchaseDetail&&(e.getPurchase(s.purchaseDetail[0].purchaseId),e.setState({purchaseDetail:s.purchaseDetail,loading:!1}))}))}))}},{key:"getPurchase",value:function(e){var s=this;this.setLoading(!0),fetch((0,d.Z)("purchase/".concat(e))).then((function(e){e.ok&&e.json().then((function(e){e&&e.purchase&&s.setState({purchase:e.purchase,loading:!1})}))}))}},{key:"render",value:function(){var e=this.state,s=e.purchaseDetail,r=e.loading,n=e.purchase,i={borderColor:"darkslategrey",borderStyle:"solid",borderWidth:"1px"};return r?(0,x.jsx)(h.Z,{}):(0,x.jsx)(x.Fragment,{children:(0,x.jsx)(l.rb,{children:(0,x.jsx)(l.b7,{xs:12,children:(0,x.jsxs)(l.xH,{className:"mb-4",children:[(0,x.jsx)(l.bn,{}),(0,x.jsxs)(l.sl,{children:[(0,x.jsx)("div",{className:"title",children:(0,x.jsx)("h1",{children:"D\xe9tails de l'achat"})}),(0,x.jsxs)("div",{className:"detail-purchase",children:[n&&n?(0,x.jsxs)("div",{className:"customer-purchase",children:[(0,x.jsx)("div",{className:"customer-detail",children:n.customer_id?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("h5",{children:[n.customer_id.name," ",n.customer_id.surname]}),(0,x.jsx)("h5",{children:n.customer_id.address}),(0,x.jsx)("h5",{children:n.customer_id.number_phone})]}):(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("h5",{children:"Aucun client"}),(0,x.jsx)("h5",{children:"Aucune adresse"}),(0,x.jsx)("h5",{children:"Aucun contact"})]})}),(0,x.jsxs)("div",{className:"info-purchase",children:[(0,x.jsxs)("div",{className:"div-display",children:[(0,x.jsxs)("div",{className:"date-ref-title",children:[(0,x.jsx)("h5",{children:"Achat#"}),(0,x.jsx)("h5",{children:"Date et Heure# "})]}),(0,x.jsxs)("div",{className:"date-ref",children:[(0,x.jsx)("h5",{children:n.id}),(0,x.jsx)("h5",{children:o()(n.purchase_datetime).format("YYYY-MM-DD HH:mm:ss")})]})]}),(0,x.jsxs)("div",{className:"info-received",children:[(0,x.jsx)("h5",{children:"Re\xe7u par:"}),(0,x.jsxs)("h5",{children:[n.received_by.name," ",n.received_by.surname]})]})]})]}):(0,x.jsx)("div",{}),n&&n?(0,x.jsx)("div",{className:"info",children:(0,x.jsxs)("div",{className:"vendor-detail",children:[(0,x.jsx)("h5",{children:"Vendeur"}),(0,x.jsxs)("div",{children:[(0,x.jsx)("h5",{children:"Creat'Or Service"}),(0,x.jsx)("h5",{children:"Address"}),(0,x.jsx)("h5",{children:"Madagascar"})]})]})}):(0,x.jsx)("div",{})]}),(0,x.jsxs)(l.Sx,{children:[(0,x.jsx)(l.V,{style:{backgroundColor:"grey",border:"1"},children:(0,x.jsxs)(l.T6,{children:[(0,x.jsx)(l.is,{scope:"col",children:"Ref"}),(0,x.jsx)(l.is,{scope:"col",children:"Designation"}),(0,x.jsx)(l.is,{scope:"col",children:"Quantit\xe9"}),(0,x.jsx)(l.is,{scope:"col",children:"Prix unitaire"}),(0,x.jsx)(l.is,{scope:"col",children:"Prix total"})]})}),(0,x.jsx)(l.NR,{children:s&&s.map((function(e,s){return(0,x.jsxs)(l.T6,{children:[(0,x.jsx)(l.NN,{style:i,children:e.id}),(0,x.jsx)(l.NN,{style:i,children:e.entitled}),(0,x.jsx)(l.NN,{style:i,children:e.quantity}),(0,x.jsx)(l.NN,{style:i,children:e.unitPrice>1e3?(0,x.jsxs)(x.Fragment,{children:[e.unitPrice.toLocaleString()," Ar"]}):(0,x.jsxs)(x.Fragment,{children:[e.unitPrice," Ar"]})}),(0,x.jsx)(l.NN,{style:i,children:e.totalPrice>1e3?(0,x.jsxs)(x.Fragment,{children:[e.totalPrice.toLocaleString()," Ar"]}):(0,x.jsxs)(x.Fragment,{children:[e.totalPrice," Ar"]})})]},s)}))})]}),n&&n?(0,x.jsx)("div",{className:"total-div",children:s[0].totalAmountPurchase>1e3?(0,x.jsx)(x.Fragment,{children:(0,x.jsxs)("b",{children:["Total :",s[0].totalAmountPurchase.toLocaleString()," ","Ar"]})}):(0,x.jsx)(x.Fragment,{children:(0,x.jsxs)("b",{children:["Total : ",s[0].totalAmountPurchase," ","","Ar"]})})}):(0,x.jsx)("div",{})]})]})})})})}},{key:"setLoading",value:function(e){this.setState({loading:e})}},{key:"setId",value:function(e){this.setState({id:e})}}]),r}(a.Component)}}]);
//# sourceMappingURL=651.53fbbf9c.chunk.js.map