"use strict";(self.webpackChunkgouvernance=self.webpackChunkgouvernance||[]).push([[24],{7947:function(e,n,t){function s(e){return"".concat("http://dam-api-qa.northeurope.cloudapp.azure.com","/").concat(e)}t.d(n,{Z:function(){return s}})},6524:function(e,n,t){var s=t(5671),r=t(3144),a=t(136),o=t(2882),i=t(2791),c=t(8983),l=t(184),u=function(e){(0,a.Z)(t,e);var n=(0,o.Z)(t);function t(){return(0,s.Z)(this,t),n.apply(this,arguments)}return(0,r.Z)(t,[{key:"render",value:function(){return(0,l.jsx)(c.LQ,{})}}]),t}(i.Component);n.Z=u},3024:function(e,n,t){t.r(n),t.d(n,{default:function(){return x}});var s=t(5671),r=t(3144),a=t(136),o=t(2882),i=t(2791),c=t(8983),l=t(4846),u=t(2412),d=t(3232),h=t(7947),p=t(6524),m=t(184),x=function(e){(0,a.Z)(t,e);var n=(0,o.Z)(t);function t(e){var r;return(0,s.Z)(this,t),(r=n.call(this,e)).onChangeUserName=function(e){r.setState({username:e.target.value})},r.onChangepassword=function(e){r.setState({password:e.target.value})},r.loginFunction=function(e){r.setLoad(!0);var n={headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({email:r.state.username,password:r.state.password})};fetch((0,h.Z)("users/login"),n).then((function(e){e.ok?(e.json().then((function(e){sessionStorage.setItem("user",JSON.stringify(e.user)),r.props.history.push("/statistique/global")})),r.setLoad(!1)):(r.setLoad(!1),e.json().then((function(e){r.setState({error:"mot de passe ou nom d'utilisateur incorrect"})})))}))},r.state={username:"luc.rabe@gmail.com",password:"mdpprom13",error:"",loading:!1},r}return(0,r.Z)(t,[{key:"componentDidMount",value:function(){sessionStorage.getItem("user")&&window.location.replace("/statistique/global")}},{key:"setLoad",value:function(e){this.setState({loading:e})}},{key:"render",value:function(){var e=this.state.loading;return(0,m.jsx)("div",{className:"bg-light min-vh-100 d-flex flex-row align-items-center",children:(0,m.jsx)(c.KB,{children:(0,m.jsx)(c.rb,{className:"justify-content-center",children:(0,m.jsx)(c.b7,{md:8,children:(0,m.jsx)(c.dL,{children:(0,m.jsx)(c.xH,{className:"p-4",children:(0,m.jsx)(c.sl,{children:(0,m.jsxs)(c.lx,{onSubmit:this.loginFunction,children:[(0,m.jsx)("h1",{children:"Login"}),(0,m.jsx)("p",{className:"text-medium-emphasis",children:"Se connecter \xe0 votre compte"}),(0,m.jsxs)(c.YR,{className:"mb-3",children:[(0,m.jsx)(c.wV,{children:(0,m.jsx)(l.Z,{icon:u.E})}),(0,m.jsx)(c.jO,{placeholder:"Nom d'utilisateur",autoComplete:"Nom d'utilisateur",value:this.state.username,onChange:this.onChangeUserName})]}),(0,m.jsxs)(c.YR,{className:"mb-4",children:[(0,m.jsx)(c.wV,{children:(0,m.jsx)(l.Z,{icon:d.U})}),(0,m.jsx)(c.jO,{type:"password",placeholder:"Mot de passe",autoComplete:"current-password",value:this.state.password,onChange:this.onChangepassword})]}),(0,m.jsxs)(c.rb,{children:[(0,m.jsxs)("center",{children:[(0,m.jsxs)("p",{children:[" ",this.state.error," "]})," "]}),(0,m.jsxs)("center",{children:[" ",e?(0,m.jsx)(c.u5,{id:"aim-color-green",className:"px-4",disabled:!0,children:(0,m.jsx)(p.Z,{})}):(0,m.jsx)(c.u5,{id:"aim-color-green",className:"px-4",type:"submit",onClick:this.loginFunction,children:"Se connecter"})]})]})]})})})})})})})})}}]),t}(i.Component)},3232:function(e,n,t){t.d(n,{U:function(){return s}});var s=["512 512","<path fill='var(--ci-primary-color, currentColor)' d='M384,200V144a128,128,0,0,0-256,0v56H88V328c0,92.635,75.364,168,168,168s168-75.365,168-168V200ZM160,144a96,96,0,0,1,192,0v56H160ZM392,328c0,74.99-61.01,136-136,136s-136-61.01-136-136V232H392Z' class='ci-primary'/>"]}}]);
//# sourceMappingURL=24.368d44d8.chunk.js.map