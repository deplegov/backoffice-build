{"version":3,"file":"static/js/793.204d44f4.chunk.js","mappings":"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","sources":["const/api.js","views/pages/Loading.js","views/pages/service/crud/updateService.js","../node_modules/@coreui/icons/js/free/cil-pencil.js"],"sourcesContent":["export default function api(link) {\r\n  return `${process.env.REACT_APP_BACKEND_HOST}/${link}`;\r\n}\r\n","import React from \"react\";\r\nimport { CSpinner } from \"@coreui/react\";\r\nclass Loading extends React.Component {\r\n  render() {\r\n    return <CSpinner />;\r\n  }\r\n}\r\nexport default Loading;\r\n","import React from \"react\";\r\nimport {\r\n  CButton,\r\n  CCard,\r\n  CCardBody,\r\n  CCol,\r\n  CContainer,\r\n  CForm,\r\n  CFormInput,\r\n  CInputGroup,\r\n  CInputGroupText,\r\n  CRow,\r\n} from \"@coreui/react\";\r\nimport CIcon from \"@coreui/icons-react\";\r\nimport { cilPencil } from \"@coreui/icons\";\r\nimport api from \"../../../../const/api\";\r\nimport Loading from \"../../Loading\";\r\n\r\nexport default class UpdateService extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    const { match } = props;\r\n    this.state = {\r\n      service_id: match && match.params && match.params.id,\r\n      entitled: \"\",\r\n      price: \"\",\r\n      service: null,\r\n      ready: false,\r\n      error: \"\",\r\n      load: false,\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getService();\r\n  }\r\n\r\n  getService() {\r\n    this.setReady(false);\r\n    fetch(api(`services/${this.state.service_id}`)).then((res) => {\r\n      if (res.ok)\r\n        res.json().then((data) => {\r\n          if (data && data.service)\r\n            this.setState({\r\n              service: data.service,\r\n              ready: true,\r\n              entitled: data.service.entitled,\r\n              price: data.service.price,\r\n            });\r\n        });\r\n    });\r\n  }\r\n\r\n  updateService() {\r\n    this.setLoad(true);\r\n    fetch(api(`services/${this.state.service_id}`), {\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      method: \"PUT\",\r\n      body: JSON.stringify({\r\n        entitled: this.state.entitled,\r\n        price: this.state.price,\r\n        modification_date: new Date(),\r\n      }),\r\n    }).then((res) => {\r\n      if (res.ok) {\r\n        console.log(res);\r\n        this.setError(\"Modification rÃ©ussie\");\r\n        this.setLoad(false);\r\n        this.props.history.push(\"/Home\");\r\n      } else\r\n        res.json().then((res) => {\r\n          this.setError(res.message);\r\n          this.setLoad(false);\r\n        });\r\n    });\r\n  }\r\n  render() {\r\n    const { entitled, price, service, ready, error, load } = this.state;\r\n    return (\r\n      <div className=\"bg-light min-vh-50 d-flex flex-row align-items-center\">\r\n        {!ready ? (\r\n          <>\r\n            <Loading></Loading>\r\n          </>\r\n        ) : (\r\n          <CContainer>\r\n            {\" \"}\r\n            <CRow className=\"justify-content-center\">\r\n              <CCol md={9} lg={9} xl={6}>\r\n                <CCard className=\"mx-4\">\r\n                  <CCardBody className=\"p-4\">\r\n                    <CForm\r\n                      onSubmit={(e) => {\r\n                        e.preventDefault();\r\n                      }}\r\n                    >\r\n                      <h1>Modification Service</h1>\r\n                      <CInputGroup className=\"mb-3\">\r\n                        <CInputGroupText>\r\n                          <CIcon icon={cilPencil} />\r\n                        </CInputGroupText>\r\n                        <CFormInput\r\n                          type=\"text\"\r\n                          placeholder={service.entitled}\r\n                          autoComplete=\"Intitule\"\r\n                          value={entitled}\r\n                          onChange={this.setEntitled}\r\n                        />\r\n                      </CInputGroup>\r\n                      <CInputGroup className=\"mb-3\">\r\n                        <CInputGroupText>\r\n                          <CIcon icon={cilPencil} />\r\n                        </CInputGroupText>\r\n                        <CFormInput\r\n                          type=\"number\"\r\n                          placeholder={service.price}\r\n                          autoComplete=\"Prix\"\r\n                          value={price}\r\n                          onChange={this.setPrice}\r\n                        />\r\n                      </CInputGroup>\r\n                      <div className=\"d-grid\">\r\n                        {load ? (\r\n                          <CButton\r\n                            id=\"aim-color-green\"\r\n                            className=\"px-4\"\r\n                            disabled\r\n                          >\r\n                            <Loading></Loading>\r\n                          </CButton>\r\n                        ) : (\r\n                          <CButton\r\n                            color=\"success\"\r\n                            type=\"submit\"\r\n                            onClick={() => this.updateService()}\r\n                          >\r\n                            Modifier\r\n                          </CButton>\r\n                        )}\r\n                        <label>{error}</label>\r\n                      </div>\r\n                    </CForm>\r\n                  </CCardBody>\r\n                </CCard>\r\n              </CCol>\r\n            </CRow>\r\n          </CContainer>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n  setLoad(l) {\r\n    this.setState({\r\n      load: l,\r\n    });\r\n  }\r\n  setEntitled = (e) => {\r\n    this.setState({\r\n      entitled: e.target.value,\r\n    });\r\n  };\r\n  setPrice = (e) => {\r\n    this.setState({\r\n      price: e.target.value,\r\n    });\r\n  };\r\n  setReady = (load) => {\r\n    this.setState({\r\n      ready: load,\r\n    });\r\n  };\r\n\r\n  setError = (err) => {\r\n    this.setState({\r\n      error: err,\r\n    });\r\n  };\r\n}\r\n","export const cilPencil = [\"512 512\",\"<path fill='var(--ci-primary-color, currentColor)' d='M29.663,482.25l.087.087a24.847,24.847,0,0,0,17.612,7.342,25.178,25.178,0,0,0,8.1-1.345l142.006-48.172,272.5-272.5A88.832,88.832,0,0,0,344.334,42.039l-272.5,272.5L23.666,456.541A24.844,24.844,0,0,0,29.663,482.25Zm337.3-417.584a56.832,56.832,0,0,1,80.371,80.373L411.5,180.873,331.127,100.5ZM99.744,331.884,308.5,123.127,388.873,203.5,180.116,412.256,58.482,453.518Z' class='ci-primary'/>\"]"],"names":["api","link","process","Loading","React","UpdateService","props","setEntitled","e","setState","entitled","target","value","setPrice","price","setReady","load","ready","setError","err","error","match","state","service_id","params","id","service","this","getService","fetch","then","res","ok","json","data","setLoad","headers","method","body","JSON","stringify","modification_date","Date","console","log","history","push","message","className","md","lg","xl","onSubmit","preventDefault","icon","cilPencil","type","placeholder","autoComplete","onChange","disabled","color","onClick","updateService","l"],"sourceRoot":""}