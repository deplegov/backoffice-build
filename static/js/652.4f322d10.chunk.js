"use strict";(self.webpackChunkgouvernance=self.webpackChunkgouvernance||[]).push([[652],{7947:function(e,t,n){function s(e){return"".concat("http://dam-api-qa.northeurope.cloudapp.azure.com","/").concat(e)}n.d(t,{Z:function(){return s}})},6524:function(e,t,n){var s=n(5671),a=n(3144),r=n(136),o=n(2882),i=n(2791),u=n(8983),l=n(184),c=function(e){(0,r.Z)(n,e);var t=(0,o.Z)(n);function n(){return(0,s.Z)(this,n),t.apply(this,arguments)}return(0,a.Z)(n,[{key:"render",value:function(){return(0,l.jsx)(u.LQ,{})}}]),n}(i.Component);t.Z=c},2652:function(e,t,n){n.r(t),n.d(t,{default:function(){return d}});var s=n(5671),a=n(3144),r=n(136),o=n(2882),i=n(2791),u=n(8983),l=n(7947),c=n(6524),m=n(184),d=function(e){(0,r.Z)(n,e);var t=(0,o.Z)(n);function n(e){var a;(0,s.Z)(this,n),(a=t.call(this,e)).setName=function(e){a.setState({name:e.target.value})},a.setSurname=function(e){a.setState({surname:e.target.value})},a.setGender=function(e){a.setState({gender:e.target.value})},a.setAddress=function(e){a.setState({address:e.target.value})},a.setNumberPhone=function(e){a.setState({number_phone:e.target.value})},a.setEmail=function(e){a.setState({email:e.target.value})},a.setError=function(e){a.setState({error:e})};var r=e.match;return a.state={customer_id:r&&r.params&&r.params.id,name:"",surname:"",number_phone:"",gender:"",address:"",email:"",customer:null,ready:!1,error:"",load:!1},a}return(0,a.Z)(n,[{key:"componentDidMount",value:function(){this.getCustomer()}},{key:"getCustomer",value:function(){var e=this;this.setReady(!1),fetch((0,l.Z)("customer/".concat(this.state.customer_id)),{method:"GET"}).then((function(t){t.ok&&t.json().then((function(t){t&&(e.setState({customer:t,name:t.name,surname:t.surname,gender:t.gender,address:t.address,number_phone:t.number_phone,email:t.email,ready:!0}),null===t.email&&e.setState({email:""}))}))}))}},{key:"updateCustomer",value:function(){var e=this;this.setLoad(!0),fetch((0,l.Z)("customer/".concat(this.state.customer_id)),{headers:{"Content-Type":"application/json"},method:"PUT",body:JSON.stringify({name:this.state.name,surname:this.state.surname,gender:this.state.gender,address:this.state.address,number_phone:this.state.number_phone,email:this.state.email,modification_date:new Date})}).then((function(t){t.ok?(console.log(t),e.setError("Modification r\xe9ussie"),e.setLoad(!1),e.props.history.push("/Home")):t.json().then((function(t){e.setError(t.message),e.setLoad(!1)}))}))}},{key:"render",value:function(){var e=this,t=this.state,n=t.name,s=t.surname,a=t.gender,r=t.customer,o=t.address,i=t.number_phone,l=t.email,d=t.ready,h=t.error,p=t.load;return(0,m.jsx)("div",{className:"bg-light min-vh-50 d-flex flex-row align-items-center",children:d?(0,m.jsxs)(u.KB,{children:[" ",(0,m.jsx)(u.rb,{className:"justify-content-center",children:(0,m.jsx)(u.b7,{md:9,lg:9,xl:6,children:(0,m.jsx)(u.xH,{className:"mx-4",children:(0,m.jsx)(u.sl,{className:"p-4",children:(0,m.jsxs)(u.lx,{onSubmit:function(e){e.preventDefault()},children:[(0,m.jsx)("h1",{children:"Modification Customer"}),(0,m.jsxs)(u.YR,{className:"mb-3",children:[(0,m.jsx)(u.wV,{children:"Nom"}),(0,m.jsx)(u.jO,{type:"text",placeholder:r.name,autoComplete:"Nom",value:n,onChange:this.setName})]}),(0,m.jsxs)(u.YR,{className:"mb-3",children:[(0,m.jsx)(u.wV,{children:"Pr\xe9nom"}),(0,m.jsx)(u.jO,{type:"text",placeholder:r.surname,autoComplete:"Pr\xe9nom",value:s,onChange:this.setSurname})]}),(0,m.jsxs)(u.YR,{className:"mb-3",children:[(0,m.jsx)(u.wV,{component:"label",htmlFor:"inputGroupSelect01",children:"Genre"}),(0,m.jsxs)(u.LX,{id:"inputGroupSelect01",onChange:this.setGender,value:a,required:!0,children:[(0,m.jsx)("option",{value:"M",children:"Homme"}),(0,m.jsx)("option",{value:"F",children:"Femme"})]})]}),(0,m.jsxs)(u.YR,{className:"mb-3",children:[(0,m.jsx)(u.wV,{children:"Adresse"}),(0,m.jsx)(u.jO,{type:"text",placeholder:r.address,autoComplete:"Adresse",value:o,onChange:this.setAddress})]}),(0,m.jsxs)(u.YR,{className:"mb-3",children:[(0,m.jsx)(u.wV,{children:"Num\xe9ro de t\xe9l\xe9phone"}),(0,m.jsx)(u.jO,{type:"number",placeholder:r.number_phone,autoComplete:"Num\xe9ro de t\xe9l\xe9phone",value:i,onChange:this.setNumberPhone})]}),(0,m.jsxs)(u.YR,{className:"mb-3",children:[(0,m.jsx)(u.wV,{children:"@"}),(0,m.jsx)(u.jO,{type:"email",placeholder:r.email,autoComplete:"Email",value:l,onChange:this.setEmail})]}),(0,m.jsxs)("div",{className:"d-grid",children:[p?(0,m.jsx)(u.u5,{id:"aim-color-green",className:"px-4",disabled:!0,children:(0,m.jsx)(c.Z,{})}):(0,m.jsx)(u.u5,{color:"success",type:"submit",onClick:function(){return e.updateCustomer()},children:"Modifier"}),(0,m.jsx)("label",{children:h})]})]})})})})})]}):(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(c.Z,{})})})}},{key:"setLoad",value:function(e){this.setState({load:e})}},{key:"setReady",value:function(e){this.setState({ready:e})}}]),n}(i.Component)}}]);
//# sourceMappingURL=652.4f322d10.chunk.js.map